{# setup_2fa.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Configuration de la double authentification
{% endblock %}

{% block body %}
	<h2>Configurer la double authentification</h2>

	{% if qrCodeSvg %}
		<p>Scannez ce QR Code avec Google Authenticator :</p>
		<div class="qrCode-2fa-verify">
			{{ qrCodeSvg|raw }}
		</div>
	{% endif %}

	<p>Entrez maintenant le code généré par votre application pour valider l’activation :</p>

	<form method="post">
		<input type="text" class="totp_code text-center"name="code" maxlength="6" required placeholder="Code à 6 chiffres">
		{% for label, messages in app.flashes %}
			{% for msg in messages %}
				<div class="flash-{{ label }}">{{ msg }}</div>
			{% endfor %}
		{% endfor %}
		<button type="submit" class="btn btn-primary">
			<i class="fa-solid fa-check"></i>
			Valider
		</button>
	</form>
{% endblock %}


{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('assets/css/form.css') }}">
{% endblock %}
