{# 
    Template PDF / navigateur pour un ticket
    Variables disponibles :
    - ticket : entité Ticket
    - ticket.commande : entité Commande associée
    - qrCodeBase64 : QR code PNG encodé en base64
#}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ticket #{{ ticket.id }}</title>
</head>
<body style="font-family: Verdana, Geneva, sans-serif; font-size:12px; text-align:center;">

    {# Container du ticket avec bordure et padding #}
    <div style="display:inline-block; border:1px solid #ccc; padding:15px; margin:20px auto; width:300px; text-align:left;">

        {# Référence de la commande #}
        <div style="margin-bottom:5px;">
            <strong>Commande :</strong>
            {{ ticket.commande.reference }}
        </div>

        {# Date de paiement formatée #}
        <div style="margin-bottom:5px;">
            <strong>Payée le :</strong>
            {{ ticket.commande.payeeLe|date('d/m/Y H:i') }}
        </div>

        {# Affichage du QR code PNG base64 si disponible #}
        {% if qrCodeBase64 %}
            <div style="text-align:center; margin:10px 0;">
                <img src="{{ qrCodeBase64 }}" alt="QR Code du ticket" width="200" height="200">
            </div>
        {% else %}
            <p style="text-align:center; color:#888;">QR code non disponible</p>
        {% endif %}

        {# Clé unique du ticket #}
        <div style="margin-bottom:5px;">
            <strong>Clé :</strong>
            {{ ticket.ticketKey }}
        </div>

        {# Hash sécurisé du ticket #}
        <div style="margin-bottom:5px;">
            <strong>Hash :</strong>
            {{ ticket.payloadHash }}
        </div>

    </div>

</body>
</html>
