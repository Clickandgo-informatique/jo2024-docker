{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
	<a href="{{ path('app_utilisateurs_index') }}" class="btn btn-primary">
		<i class="fa-solid fa-list"></i>Revenir Ã  la liste
	</a>

	<h1 class="text-center mb-4">{{ title }}</h1>

	{# Messages flash #}
	{% for label, messages in app.flashes %}
		{% for message in messages %}
			<div class="flash {{ label }}">{{ message }}</div>
		{% endfor %}
	{% endfor %}

	{{ form_start(form) }}

	{# Champs personnels #}
	<div class="row-horizontal">
		{{ form_row(form.lastname, {'attr': {'class': form.lastname.vars.errors|length ? 'error-field' : ''}}) }}
		{{ form_row(form.firstname, {'attr': {'class': form.firstname.vars.errors|length ? 'error-field' : ''}}) }}
	</div>

	<div class="row-horizontal">
		{{ form_row(form.nickname, {'attr': {'class': form.nickname.vars.errors|length ? 'error-field' : ''}}) }}
		{{ form_row(form.email, {'attr': {'class': form.email.vars.errors|length ? 'error-field' : ''}}) }}
	</div>

	<div class="row-horizontal">
		{{ form_row(form.password, {'attr': {'class': form.password.vars.errors|length ? 'error-field' : ''}}) }}
	</div>

	{# Roles #}
	<div class="form-group">
		{{ form_row(form.roles) }}
	</div>

	{# Adresse facultative #}
	<div class="address">
		{{ form_row(form.address) }}
		<div class="row-horizontal">
			{{ form_row(form.zipcode) }}
			{{ form_row(form.city) }}
		</div>
		{{ form_row(form.country) }}
	</div>

	<button type="submit" class="btn btn-primary">
		<i class="fa-solid fa-floppy-disk"></i>Enregistrer
	</button>

	{{ form_end(form) }}
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('assets/css/form.css') }}">
{% endblock %}
